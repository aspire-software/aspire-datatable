<div class="container">
  <div class="row no-gutters">
    <!-- -------------------------------TOP-LEFT-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'top-left'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>

    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'top-left'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'top-left'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'top-left'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <div *ngIf="(!options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position == 'top-left') ||
    (!options.showRecordsCount && options?.componentsClass?.recordsCount?.position == 'top-left') ||
    (!options?.showSearch && options?.componentsClass?.search?.position == 'top-left') ||
    (!options.showPagination && options?.componentsClass?.pagination?.position == 'top-left')"
      [class]="options?.componentsClass?.topBlankComponentClassList">
    </div>

    <!-- -------------------------------TOP-CENTER-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'top-center'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>

    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'top-center'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'top-center'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'top-center'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <!-- -------------------------------TOP-RIGHT-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'top-right'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>

    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'top-right'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'top-right'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'top-right'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <div *ngIf="(!options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position == 'top-right') ||
    (!options.showRecordsCount && options?.componentsClass?.recordsCount?.position == 'top-right') ||
    (!options?.showSearch && options?.componentsClass?.search?.position == 'top-right') ||
    (!options.showPagination && options?.componentsClass?.pagination?.position == 'top-right')"
      [class]="options?.componentsClass?.topBlankComponentClassList">
    </div>

  </div>
  <div class="row no-gutters" id="aspire-table">
    <div class="table-responsive">
      <table id="aspire-data-table" class="{{options.tableStyle}}">
        <thead class="{{options.headerStyle}}">
          <tr scope="col" *ngFor="let item of headers let i=index;" [attr.data-index]="i">
            <th scope="row" [attr.rowspan]="headers.length">
              <span (click)="sort(item, $event)" *ngIf="options.showSorting">
                <span>{{item.field}} </span>
                <i class="fa fa-sort-down pl-1 sort-icon" aria-hidden="true"></i>
              </span>
              <span *ngIf="!options.showSorting">
                <span>{{item.field}}</span>
              </span>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="records.length === 0">
            <td [attr.colspan]="headers.length+1">
              <div class="col py-3 px-md-5 border text-center">
                {{options.noRecordFoundMessage}}
              </div>
            </td>
          </tr>
          <tr class="{{options.tableRowStyle}}" *ngFor="let item of records | slice: getStart() : getEnd()">
            <td class="{{options.tableDataStyle}}" *ngFor="let header of headers  let i = index"
              [attr.data-title]="header.field">
              <span *ngIf="header.type === 'date'">
                {{item[header.field] === null || item[header.field] === undefined || item[header.field] === '' ? '-' : item[header.field] | date: options.dateFormat}}
              </span>
              <span *ngIf="header.type != 'date' && header.field != 'action'">
                {{item[header.field] === null || item[header.field] === undefined || item[header.field] === '' ? '-' : item[header.field]}}
              </span>
              <div class="dropdown" ngbDropdown *ngIf="header.field==='action' || header.type==='any'">
                <button type="button" class="dropdown-btn" id="dropdownMenuButton1" data-toggle="dropdown"
                  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                  <span [class]=item[header.field].classType></span>
                </button>
                <div class="dropdown-menu" ngbDropdownMenu aria-labelledby="dropdownMenuButton2">
                  <span *ngFor="let value of item[header.field].perform;let i=index;">
                    <a ngbDropdownItem class="dropdown-item" *ngIf="!value.popupConfirm"
                      [href]=value.url>{{value.perAction}}</a>
                    <a class="">
                      <lib-aspire-popup *ngIf="value.popupConfirm" [popupLib]="popup" [classList]="'dropdown-item'"
                        [perAction]="value.perAction" (confirmAction)="onConfirmAction($event, item)">
                      </lib-aspire-popup>
                    </a>
                  </span>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="row">
    <!-- -------------------------------BOTTOM-LEFT-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'bottom-left'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>
    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'bottom-left'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'bottom-left'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'bottom-left'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <div *ngIf="(!options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position == 'bottom-left') ||
    (!options.showRecordsCount && options?.componentsClass?.recordsCount?.position == 'bottom-left') ||
    (!options?.showSearch && options?.componentsClass?.search?.position == 'bottom-left') ||
    (!options.showPagination && options?.componentsClass?.pagination?.position == 'bottom-left')"
      [class]="options?.componentsClass?.bottomBlankComponentClassList">
    </div>

    <!-- -------------------------------BOTTOM-CENTER-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'bottom-center'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>

    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'bottom-center'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'bottom-center'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'bottom-center'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <!-- -------------------------------BOTTOM-RIGHT-POSITION------------------------------------- -->
    <div
      *ngIf="options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position === 'bottom-right'"
      [class]="options?.componentsClass?.recordsPerPage?.classList">
      <aspire-records-perpage [recordsPerPageOptions]="options.recordsPerPageOptions"
        [itemsPerPage]="options.itemsPerPage" [class]="options?.componentsClass?.recordsPerPage?.alignmentClassList"
        (perPageRecords)="getPerPageRecords($event)">
      </aspire-records-perpage>
    </div>

    <div *ngIf="options.showRecordsCount && options?.componentsClass?.recordsCount?.position === 'bottom-right'"
      [class]="options?.componentsClass?.recordsCount?.classList">
      <aspire-records-count [class]="options?.componentsClass?.recordsCount?.alignmentClassList"
        [totalRecords]="records.length" [itemsPerPage]="options.itemsPerPage">
      </aspire-records-count>
    </div>

    <div *ngIf="options?.showSearch && options?.componentsClass?.search?.position === 'bottom-right'"
      [class]="options?.componentsClass?.search?.classList">
      <aspire-searching [records]="records" [searchingStyle]="options.searchingStyle"
        [class]="options?.componentsClass?.search?.alignmentClassList" (searchRecords)="getSearchRecords($event)">
      </aspire-searching>
    </div>

    <div *ngIf="options.showPagination && options?.componentsClass?.pagination?.position === 'bottom-right'"
      [class]="options?.componentsClass?.pagination?.classList">
      <aspire-pagination [totalItems]="records.length" [itemsPerPage]="options.itemsPerPage"
        [reset]="options.resetPagination" [options]="options.paginationOptions"
        (pageChanged)="onPageChanged($event, false)" [class]="options?.componentsClass?.pagination?.alignmentClassList">
      </aspire-pagination>
    </div>

    <div *ngIf="(!options?.showRecordsPerPageSelector && options?.componentsClass?.recordsPerPage?.position == 'bottom-right') ||
    (!options.showRecordsCount && options?.componentsClass?.recordsCount?.position == 'bottom-right') ||
    (!options?.showSearch && options?.componentsClass?.search?.position == 'bottom-right') ||
    (!options.showPagination && options?.componentsClass?.pagination?.position == 'bottom-right')"
      [class]="options?.componentsClass?.bottomBlankComponentClassList">
    </div>

  </div>
</div>